"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[69680],{86653:(t,e,i)=>{i.d(e,{c:()=>n,g:()=>h,i:()=>r,p:()=>d,r:()=>s,s:()=>c});let a=0;function s(){a=0}const o="temp-";function n(){return{id:`${o}${Math.random().toString(36)}`,title:"Room "+ ++a,participants:[]}}function r(t){return t.includes(o)}function c(t,e){const i=t.length,a=Math.ceil(i/e),s=new Array(e);let o=0;for(let n=0;n<e;n++)s[n]=t.slice(o,o+a),o+=a;return s.filter((t=>t.length))}function d(t){var e;return null!==(e=t.customParticipantId)&&void 0!==e?e:t.clientSpecificId}function h(t){const e=new Map;return[t.self,...t.participants.joined.toArray()].map((t=>{e.set(d(t),t.picture)})),[t.connectedMeetings.parentMeeting,...t.connectedMeetings.meetings].flatMap((t=>t.participants)).map((t=>({id:t.id,customParticipantId:d(t),displayName:t.displayName,displayPictureUrl:""!==t.displayPictureUrl?t.displayPictureUrl:e.get(d(t))})))}},69680:(t,e,i)=>{i.r(e),i.d(e,{dyte_breakout_rooms_manager:()=>S});var a,s,o,n,r,c,d,h,g,l,p,m,u,f,b,y=i(67503),v=i(11810),k=i(35461),M=i(86466),x=i(86653),w=function(t,e,i,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(t,i):s?s.value=i:e.set(t,i),i},P=function(t,e,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(t):a?a.value:e.get(t)},C=function(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(i[a[s]]=t[a[s]])}return i};class _{constructor(){a.add(this),s.set(this,!1),o.set(this,void 0),n.set(this,void 0),r.set(this,void 0),c.set(this,void 0),d.set(this,void 0),h.set(this,void 0),g.set(this,void 0),l.set(this,void 0)}get hasLocalChanges(){return P(this,s,"f")}get currentState(){let t,e=[];return Array.from(P(this,c,"f").keys()).forEach((i=>{const s=P(this,h,"f").get(i);s.isParent?t=Object.assign(Object.assign({},s),{participants:P(this,a,"m",b).call(this,i)}):e.push(Object.assign(Object.assign({},s),{participants:P(this,a,"m",b).call(this,i)}))})),{parentMeeting:t,meetings:e}}get allConnectedMeetings(){return this.currentState.meetings}get allParticipants(){return Array.from(P(this,d,"f").values())}get unassignedParticipants(){return P(this,a,"m",b).call(this,P(this,o,"f").parentMeeting.id)}getParticipantsForMeeting(t){return P(this,a,"m",b).call(this,t)}addNewMeeting(){w(this,s,!0,"f");const t=(0,x.c)(),e=C(t,["participants"]);return P(this,a,"m",m).call(this,Object.assign(Object.assign({},e),{isParent:!1})),e}addNewMeetings(t){return Array.from({length:t}).map((()=>this.addNewMeeting()))}updateMeetingTitle(t,e){P(this,h,"f").get(t).title=e,(0,x.i)(t)||P(this,g,"f").add(t)}deleteMeeting(t){w(this,s,!0,"f");const e=P(this,h,"f").get(t),i=P(this,a,"m",b).call(this,e.id).map(x.p);this.assignParticipantsToMeeting(i,P(this,o,"f").parentMeeting.id),P(this,h,"f").delete(e.id),P(this,c,"f").delete(e.id),(0,x.i)(e.id)||P(this,l,"f").add(e.id)}assignParticipantsToMeeting(t,e){return w(this,s,!0,"f"),t.forEach((t=>{const i=P(this,n,"f").get(t);P(this,c,"f").get(i).delete(t),P(this,c,"f").get(e).add(t),P(this,n,"f").set(t,e)})),this.currentState}assignParticipantsRandomly(){const t=(0,x.s)(this.unassignedParticipants,this.allConnectedMeetings.length);return this.allConnectedMeetings.forEach(((e,i)=>{const a=t[i];a&&0!==a.length&&this.assignParticipantsToMeeting(a.map((t=>t.customParticipantId)),e.id)})),this.currentState}unassignParticipants(t){const e=P(this,o,"f").parentMeeting.id;return this.assignParticipantsToMeeting(t,e)}unassignAllParticipants(){const t=P(this,o,"f").parentMeeting.id,e=this.allParticipants.map(x.p);return this.assignParticipantsToMeeting(e,t)}updateCurrentState(t){P(this,s,"f")||P(this,a,"m",p).call(this,t),[t.parentMeeting,...t.meetings].forEach(((t,e)=>{const i=Object.assign(Object.assign({},t),{isParent:0===e});P(this,a,"m",m).call(this,i),t.participants.forEach((t=>{P(this,a,"m",u).call(this,t,i)}))}))}get meetingsToCreate(){return this.allConnectedMeetings.filter((t=>(0,x.i)(t.id))).map((({id:t,title:e})=>({id:t,title:e})))}get meetingsToUpdate(){return this.allConnectedMeetings.filter((t=>P(this,g,"f").has(t.id))).map((({id:t,title:e})=>({id:t,title:e})))}get meetingsToDelete(){return Array.from(P(this,l,"f"))}get participantsToMove(){const t=new Map;return Array.from(P(this,n,"f").keys()).forEach((e=>{const i=P(this,r,"f").get(e),a=P(this,n,"f").get(e);if(i===a)return;const s=`${i}__${a}`;t.has(s)||t.set(s,[]),t.get(s).push(e)})),Array.from(t.keys()).map((e=>{const[i,a]=e.split("__");return{sourceMeetingId:i,destinationMeetingId:a,customParticipantIds:t.get(e)}}))}async applyChanges(t){const e=0!==this.meetingsToCreate.length?t.connectedMeetings.createMeetings(this.meetingsToCreate):Promise.resolve([]),i=0!==this.meetingsToUpdate.length?t.connectedMeetings.updateMeetings(this.meetingsToUpdate):Promise.resolve(),[s]=await Promise.all([e,i]);s&&s.forEach((t=>{this.meetingsToCreate.forEach((e=>{e.title===t.title&&P(this,a,"m",f).call(this,P(this,h,"f").get(e.id),t.id)}))})),0!==this.participantsToMove.length&&this.participantsToMove.forEach((({sourceMeetingId:e,destinationMeetingId:i,customParticipantIds:a})=>{t.connectedMeetings.moveParticipants(e,i,a)})),0!==this.meetingsToDelete.length&&t.connectedMeetings.deleteMeetings(this.meetingsToDelete)}discardChanges(){return w(this,s,!1,"f"),this.updateCurrentState(P(this,o,"f")),this.currentState}}s=new WeakMap,o=new WeakMap,n=new WeakMap,r=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,g=new WeakMap,l=new WeakMap,a=new WeakSet,p=function(t){w(this,o,t,"f"),w(this,h,new Map,"f"),w(this,d,new Map,"f"),w(this,g,new Set,"f"),w(this,l,new Set,"f"),w(this,c,new Map,"f"),w(this,n,new Map,"f"),w(this,r,new Map,"f"),w(this,r,new Map,"f"),P(this,o,"f").parentMeeting.participants.forEach((t=>{P(this,r,"f").set((0,x.p)(t),P(this,o,"f").parentMeeting.id)})),P(this,o,"f").meetings.forEach((t=>{t.participants.forEach((e=>{P(this,r,"f").set((0,x.p)(e),t.id)}))}))},m=function(t){P(this,h,"f").has(t.id)||(P(this,h,"f").set(t.id,t),P(this,c,"f").set(t.id,new Set))},u=function(t,e){P(this,d,"f").has((0,x.p)(t))||(P(this,d,"f").set((0,x.p)(t),t),P(this,n,"f").set((0,x.p)(t),e.id),P(this,c,"f").get(e.id).add((0,x.p)(t)))},f=function(t,e){const i=t.id;P(this,a,"m",m).call(this,Object.assign(Object.assign({},t),{id:e})),P(this,h,"f").delete(i);const s=P(this,c,"f").get(i);P(this,c,"f").set(e,s),P(this,c,"f").delete(i),Array.from(P(this,n,"f").keys()).forEach((t=>{P(this,n,"f").get(t)===i&&P(this,n,"f").set(t,e)}))},b=function(t){return Array.from(P(this,c,"f").get(t)).map((t=>P(this,d,"f").get(t)))};const S=class{constructor(t){(0,y.r)(this,t),this.stateUpdate=(0,y.c)(this,"dyteStateUpdate",7),this.keyPressListener=t=>{"Escape"===t.key&&this.close()},this.onAddNewRoom=()=>{this.stateManager.addNewMeeting(),this.draftState=this.stateManager.currentState,this.selectorRef.scrollTo({top:this.selectorRef.scrollHeight,behavior:"smooth"})},this.onRoomUpdate=t=>{const{detail:e}=t;this.stateManager.updateMeetingTitle(e.id,e.title),this.draftState=this.stateManager.currentState},this.onRoomDelete=t=>{this.stateManager.allConnectedMeetings.find((e=>e.id===t))&&(this.stateManager.deleteMeeting(t),this.draftState=this.stateManager.currentState)},this.unassignParticipant=t=>{this.stateManager.unassignParticipants([t]),this.draftState=this.stateManager.currentState},this.onUnassignAll=()=>{this.stateManager.unassignAllParticipants(),this.draftState=this.stateManager.currentState},this.assignParticipantsToRoom=t=>{0!==this.selectedParticipants.length&&0!=this.assigningParticipants&&(this.stateManager.assignParticipantsToMeeting(this.selectedParticipants,t),this.draftState=this.stateManager.currentState,this.selectedParticipants=[],this.assigningParticipants=!1,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned")))},this.handleClose=(t,e)=>{t.emit({activeBreakoutRoomsManager:{active:!0}}),e.activeBreakoutRoomsManager={active:!0}},this.enableConfirmationModal=(t="start-breakout")=>{let e={active:!0,header:"breakout_rooms.confirm_modal.start_breakout.header",content:"breakout_rooms.confirm_modal.start_breakout.content",variant:"primary",cancelText:"breakout_rooms.confirm_modal.start_breakout.cancelText",ctaText:"breakout_rooms.confirm_modal.start_breakout.ctaText",onClick:()=>this.applyChanges(),onClose:this.handleClose};"close-breakout"===t&&(e={active:!0,header:"breakout_rooms.confirm_modal.close_breakout.header",content:"breakout_rooms.confirm_modal.close_breakout.content",variant:"danger",cancelText:"cancel",ctaText:"breakout_rooms.confirm_modal.close_breakout.ctaText",onClick:()=>this.closeBreakout(),onClose:this.handleClose}),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1},activeConfirmationModal:e}),M.s.activeBreakoutRoomsManager={active:!1},M.s.activeConfirmationModal=e},this.applyChanges=async()=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!0}),await this.stateManager.applyChanges(this.meeting),this.close(),this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!1})},this.loading=!1,this.roomConfig={rooms:2,step:"room-config",mode:"create",applyingChanges:!1},this.draftState=void 0,this.assigningParticipants=!1,this.selectedParticipants=[],this.ephemeralStatusText="",this.isDragMode=!1,this.meeting=void 0,this.states=void 0,this.iconPack=k.d,this.t=(0,v.u)()}onSelectedParticipantsChanged(t){t.length>0?this.assigningParticipants=!0:this.assigningParticipants=!1}connectedCallback(){document.addEventListener("keydown",this.keyPressListener),this.permissions=this.meeting.self.permissions.connectedMeetings,this.meeting.connectedMeetings.removeAllListeners(),this.meeting.connectedMeetings.on("connectedMeetingState",this.updateLocalState.bind(this)),this.meeting.connectedMeetings.on("changingMeeting",this.close.bind(this)),this.stateManager=new _,this.fetchRoomState()}disconnectedCallback(){this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener),this.meeting.connectedMeetings.off("connectedMeetingState",this.updateLocalState),this.meeting.connectedMeetings.off("changingMeeting",this.close)}async fetchRoomState(){this.loading=!0,await this.meeting.connectedMeetings.getConnectedMeetings(),this.loading=!1}updateLocalState(t){this.stateManager.updateCurrentState(t),this.draftState=this.stateManager.currentState,this.meeting.connectedMeetings.isActive&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{mode:"edit"})),"create"!==this.roomConfig.mode||this.meeting.connectedMeetings.isActive||(0,x.r)(),["edit","view"].includes(this.roomConfig.mode)&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:t.meetings.length,step:"participants-config"}),this.selectedParticipants=[])}setEphemeralStatus(t){this.ephemeralStatusText=t,setTimeout((()=>{this.ephemeralStatusText=""}),3e3)}onCreateRooms(){this.selectedParticipants=[],this.stateManager.addNewMeetings(this.roomConfig.rooms),this.draftState=this.stateManager.currentState,this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{step:"participants-config"})}onParticipantDelete(t){const{detail:e}=t,i=(0,x.p)(e);null!=i&&this.unassignParticipant(i)}toggleDragMode(t){this.isDragMode=t.detail}assignParticipantsRandomly(){0!==this.stateManager.unassignedParticipants.length&&(this.stateManager.assignParticipantsRandomly(),this.draftState=this.stateManager.currentState,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned_randomly")))}async joinRoom(t){const e=(0,x.p)(this.meeting.self);this.stateManager.assignParticipantsToMeeting([e],t),await this.applyChanges()}async closeBreakout(){this.stateManager.allConnectedMeetings.forEach((t=>this.stateManager.deleteMeeting(t.id))),await this.applyChanges()}close(){var t;this.stateManager.discardChanges(),null===(t=this.stateUpdate)||void 0===t||t.emit({activeBreakoutRoomsManager:{active:!1}}),M.s.activeBreakoutRoomsManager={active:!1}}updateSelectedParticipants(t){this.selectedParticipants=t.detail}updateAllParticipants(t){this.selectedParticipants=t.detail}getStatusText(){if(""!==this.ephemeralStatusText)return this.ephemeralStatusText;let t="";return"create"===this.roomConfig.mode&&(t=this.t("breakout_rooms.status.assign_multiple"),0!==this.selectedParticipants.length&&(t=this.t("breakout_rooms.status.select_room"))),t}getApproxDistribution(){const t=this.stateManager.unassignedParticipants.length/this.roomConfig.rooms;return Math.max(1,Math.round(t))}deselectAll(){this.selectedParticipants=[]}async discardChanges(){this.stateManager.discardChanges(),await this.fetchRoomState(),this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.changes_discarded"))}shouldShowOnlyRoomSwitcher(){return!1===this.permissions.canAlterConnectedMeetings}getPermittedRooms(){return this.permissions.canAlterConnectedMeetings||this.permissions.canSwitchConnectedMeetings?this.stateManager.allConnectedMeetings:this.stateManager.allConnectedMeetings.filter((t=>t.id===this.meeting.meta.roomName))}renderMainRoomMaybe(){return this.meeting.connectedMeetings.isActive&&this.permissions.canSwitchToParentMeeting?(0,y.h)("dyte-breakout-room-manager",{key:this.stateManager.currentState.parentMeeting.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,meeting:this.meeting,mode:this.roomConfig.mode,onParticipantsAdd:()=>this.assignParticipantsToRoom(this.stateManager.currentState.parentMeeting.id),onRoomJoin:()=>this.joinRoom(this.stateManager.currentState.parentMeeting.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},this.stateManager.currentState.parentMeeting),iconPack:this.iconPack,t:this.t}):null}renderRoomSwitcher(){return(0,y.h)(y.H,null,(0,y.h)("div",{class:"room-switcher-container"},(0,y.h)("header",null,(0,y.h)("dyte-icon",{icon:this.iconPack.breakout_rooms}),(0,y.h)("span",null,this.t("breakout_rooms.join_breakout_header"))),(0,y.h)("div",{class:"rooms",ref:t=>this.selectorRef=t},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((t,e)=>(0,y.h)("dyte-breakout-room-manager",{key:t.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===e,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(t.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(t.id),onRoomJoin:()=>this.joinRoom(t.id),states:this.states,room:Object.assign({},t),iconPack:this.iconPack,t:this.t}))))))}renderLoading(){return(0,y.h)(y.H,null,(0,y.h)("div",{class:"loading-content"},(0,y.h)("dyte-spinner",{size:"xl"})))}renderRoomConfig(){return(0,y.h)(y.H,null,(0,y.h)("div",{class:"room-config"},(0,y.h)("header",null,(0,y.h)("dyte-icon",{icon:this.iconPack.breakout_rooms}),(0,y.h)("span",null,this.t("breakout_rooms.room_config_header"))),(0,y.h)("div",{class:"create-room"},(0,y.h)("p",null,this.t("breakout_rooms.num_of_rooms")),(0,y.h)("dyte-counter",{value:this.roomConfig.rooms,minValue:1,iconPack:this.iconPack,t:this.t,onValueChange:t=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:Math.max(+t.detail,1)})}})),(0,y.h)("span",{class:"distribution-hint"},`${this.t("breakout_rooms.approx")} `," ",(0,y.h)("em",null,this.getApproxDistribution()," ",this.t("breakout_rooms.participants_per_room"))," ",this.t("breakout_rooms.division_text")),(0,y.h)("footer",null,(0,y.h)("dyte-button",{kind:"button",iconPack:this.iconPack,t:this.t,size:"lg",title:this.t("create"),disabled:0===this.roomConfig.rooms,onClick:()=>this.onCreateRooms()},this.t("create")))))}render(){return this.loading?this.renderLoading():this.shouldShowOnlyRoomSwitcher()?this.renderRoomSwitcher():"room-config"===this.roomConfig.step?this.renderRoomConfig():(0,y.h)(y.H,null,(0,y.h)("div",{class:"participant-config-wrapper"},(0,y.h)("div",{class:"participant-config"},(0,y.h)("aside",{part:"menu"},(0,y.h)("header",null,this.t("breakout_rooms.assign_participants")),(0,y.h)("dyte-breakout-room-participants",{meeting:this.meeting,iconPack:this.iconPack,t:this.t,participantIds:this.stateManager.unassignedParticipants.map(x.p),selectedParticipantIds:this.selectedParticipants},(0,y.h)("dyte-tooltip",{label:this.t("breakout_rooms.shuffle_participants"),iconPack:this.iconPack,t:this.t,slot:"shuffle-button"},(0,y.h)("dyte-button",{disabled:"edit"===this.roomConfig.mode||0===this.stateManager.unassignedParticipants.length,iconPack:this.iconPack,t:this.t,kind:"button",variant:"secondary",size:"md",onClick:()=>this.assignParticipantsRandomly(),class:"shuffle-button"},(0,y.h)("dyte-icon",{icon:this.iconPack.shuffle,iconPack:this.iconPack,t:this.t})))),0!==this.selectedParticipants.length&&(0,y.h)("div",{class:"participants-assign-actions"},(0,y.h)("span",null,`${this.selectedParticipants.length} ${this.t("breakout_rooms.selected")}`),(0,y.h)("dyte-button",{disabled:"edit"===this.roomConfig.mode,iconPack:this.iconPack,t:this.t,kind:"button",variant:"ghost",size:"md",onClick:()=>this.deselectAll(),class:"deselect-button color-danger"},this.t("breakout_rooms.deselect")))),(0,y.h)("div",{class:"assign-rooms"},(0,y.h)("div",{class:"row"},(0,y.h)("p",{class:"row-header"},this.t("breakout_rooms.rooms")," (",this.stateManager.allConnectedMeetings.length,")"),!this.assigningParticipants&&(0,y.h)("div",{class:"cta-buttons"},(0,y.h)("dyte-button",{kind:"button",variant:"secondary",iconPack:this.iconPack,t:this.t},(0,y.h)("div",{onClick:this.onAddNewRoom},(0,y.h)("dyte-icon",{icon:this.iconPack.add,iconPack:this.iconPack,t:this.t}),this.t("breakout_rooms.add_room"))),0!==this.stateManager.allConnectedMeetings.flatMap((t=>t.participants)).length&&(0,y.h)("dyte-button",{kind:"button",variant:"ghost",onClick:this.onUnassignAll,iconPack:this.iconPack,t:this.t},this.t("breakout_rooms.unassign_all")))),(0,y.h)("div",{class:"rooms",ref:t=>this.selectorRef=t},this.renderMainRoomMaybe(),this.stateManager.allConnectedMeetings.map(((t,e)=>(0,y.h)("dyte-breakout-room-manager",{key:t.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===e,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(t.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(t.id),onRoomJoin:()=>this.joinRoom(t.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},t),iconPack:this.iconPack,t:this.t})))))),(0,y.h)("div",{class:"participant-config-actions"},(0,y.h)("div",{class:{"status-bar":!0,"ephemeral-status":""!==this.ephemeralStatusText}},""!==this.ephemeralStatusText&&(0,y.h)("dyte-icon",{icon:this.iconPack.checkmark,iconPack:this.iconPack,t:this.t}),this.getStatusText()),(0,y.h)("div",{class:"breakout-actions"},"create"===this.roomConfig.mode&&this.permissions.canAlterConnectedMeetings&&(0,y.h)("dyte-button",{size:"md",iconPack:this.iconPack,t:this.t,class:"start-breakout-button",onClick:()=>this.enableConfirmationModal("start-breakout")},this.t("breakout_rooms.start_breakout")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,y.h)("dyte-button",{size:"md",iconPack:this.iconPack,t:this.t,class:"color-danger",variant:"ghost",onClick:()=>this.discardChanges()},this.t("breakout_rooms.discard_changes")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,y.h)("dyte-button",{size:"md",iconPack:this.iconPack,t:this.t,class:"update-breakout-button",onClick:this.applyChanges},this.t("breakout_rooms.update_breakout")),"edit"===this.roomConfig.mode&&!this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,y.h)("dyte-button",{size:"md",iconPack:this.iconPack,t:this.t,class:"close-breakout-button",onClick:()=>this.enableConfirmationModal("close-breakout")},this.t("breakout_rooms.close_breakout"))))))}static get watchers(){return{selectedParticipants:["onSelectedParticipantsChanged"]}}};S.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif)}.color-brand{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.color-danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.loading-content{height:var(--dyte-space-60, 240px);width:var(--dyte-space-96, 384px);padding:var(--dyte-space-9, 36px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;align-items:center;justify-content:center}.room-config{overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}.create-room{margin-bottom:var(--dyte-space-4, 16px);display:flex;align-items:center;gap:var(--dyte-space-3, 12px);width:100%}.create-room p{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);font-size:16px}.distribution-hint{margin-bottom:var(--dyte-space-8, 32px);font-size:14px;font-weight:400;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.distribution-hint em{font-style:normal;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}footer{display:flex;flex-direction:row;vertical-align:middle;justify-content:center}footer dyte-button{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}label{margin-bottom:var(--dyte-space-3, 12px);font-weight:400;color:rgb(var(--dyte-colors-text-1000, 255 255 255));opacity:0.4}.participant-config-wrapper{width:850px;height:595px;max-width:100%;max-height:100%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column}.participant-config-actions{display:flex;justify-content:space-between;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);border-bottom-right-radius:var(--dyte-border-radius-md, 8px);border-bottom-left-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.participant-config{display:flex;flex-grow:1;flex-direction:row;overflow:hidden}aside{box-sizing:border-box;display:flex;width:var(--dyte-space-96, 384px);flex-grow:1;flex-direction:column;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-4, 16px);border-right-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}aside header{width:100%;padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px);padding-top:var(--dyte-space-8, 32px);font-size:20px;font-weight:500}.shuffle-button{display:flex;flex-direction:row;align-items:center}.shuffle-button dyte-icon{height:var(--dyte-space-8, 32px)}.participants-assign-actions{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-2, 8px);margin-left:calc(var(--dyte-space-8, 32px) * -1);margin-right:calc(var(--dyte-space-4, 16px) * -1);padding-top:var(--dyte-space-0\\.5, 2px);padding-bottom:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.participants-assign-actions .deselect-button{height:var(--dyte-space-6, 24px)}.assign-rooms{padding:var(--dyte-space-8, 32px);display:flex;width:100%;flex-direction:column}.assign-rooms .disabled{opacity:0.2}.assign-rooms .back{display:flex;cursor:pointer;flex-direction:row;align-items:center;justify-content:flex-start;padding:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-0, 0px);font-size:14px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.assign-rooms .back dyte-icon{height:var(--dyte-space-5, 20px)}.assign-rooms .row{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}.assign-rooms .row-header{margin:var(--dyte-space-0, 0px);font-size:16px;line-height:2rem}.assign-rooms .cta-buttons{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px)}.assign-rooms .cta-buttons dyte-button div{display:flex;flex-direction:row;align-items:center}.assign-rooms .cta-buttons dyte-button div dyte-icon{height:var(--dyte-space-4, 16px)}.rooms{margin-bottom:var(--dyte-space-2, 8px);padding:var(--dyte-space-1, 4px);display:flex;flex-grow:1;flex-direction:column;overflow-y:auto;max-height:500px}.rooms::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px)}.rooms::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.rooms::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.breakout-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}.breakout-actions .start-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.breakout-actions .close-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}.breakout-actions .update-breakout-button{background-color:transparent;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}.status-bar{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));width:var(--dyte-space-80, 320px)}.ephemeral-status{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.ephemeral-status dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.room-switcher-container{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));width:468px;padding:var(--dyte-space-8, 32px)}"},86466:(t,e,i)=>{i.d(e,{o:()=>d,s:()=>c});var a=i(67503);const s=t=>!("isConnected"in t)||t.isConnected,o=((t,e)=>{let i;return(...a)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,t(...a)}),e)}})((t=>{for(let e of t.keys())t.set(e,t.get(e).filter(s))}),2e3),n=t=>"function"==typeof t?t():t,r=(t,e)=>{const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.length--)},{state:c,onChange:d}=((t,e)=>{const i=((t,e=((t,e)=>t!==e))=>{const i=n(t);let a=new Map(Object.entries(null!=i?i:{}));const s={dispose:[],get:[],set:[],reset:[]},o=()=>{var e;a=new Map(Object.entries(null!==(e=n(t))&&void 0!==e?e:{})),s.reset.forEach((t=>t()))},c=t=>(s.get.forEach((e=>e(t))),a.get(t)),d=(t,i)=>{const o=a.get(t);e(i,o,t)&&(a.set(t,i),s.set.forEach((e=>e(t,i,o))))},h="undefined"==typeof Proxy?{}:new Proxy(i,{get:(t,e)=>c(e),ownKeys:t=>Array.from(a.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>a.has(e),set:(t,e,i)=>(d(e,i),!0)}),g=(t,e)=>(s[t].push(e),()=>{r(s[t],e)});return{state:h,get:c,set:d,on:g,onChange:(e,i)=>{const a=g("set",((t,a)=>{t===e&&i(a)})),s=g("reset",(()=>i(n(t)[e])));return()=>{a(),s()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(g("set",e.set)),e.get&&t.push(g("get",e.get)),e.reset&&t.push(g("reset",e.reset)),e.dispose&&t.push(g("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{s.dispose.forEach((t=>t())),o()},reset:o,forceUpdate:t=>{const e=a.get(t);s.set.forEach((i=>i(t,e,e)))}}})(t,e);return i.use((()=>{if("function"!=typeof a.a)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const i=(0,a.a)();i&&((t,e,i)=>{const a=t.get(e);a?a.includes(i)||a.push(i):t.set(e,[i])})(t,e,i)},set:e=>{const i=t.get(e);i&&t.set(e,i.filter(a.f)),o(t)},reset:()=>{t.forEach((t=>t.forEach(a.f))),o(t)}}})()),i})({})}}]);