"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[84509,16545],{16545:(e,t,i)=>{i.r(t),i.d(t,{dyte_breakout_rooms_toggle:()=>l});var o=i(67503),s=i(35461),a=i(11810),n=i(86466),r=i(40579);i(60614);const l=class{constructor(e){(0,o.r)(this,e),this.stateUpdate=(0,o.c)(this,"dyteStateUpdate",7),this.breakoutRoomToggle=()=>{var e,t,i;const o=this.meeting.connectedMeetings.meetings.length,s=this.states.activeBreakoutRooms||o>0?"view":"create";this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!(null===(t=null===(e=this.states)||void 0===e?void 0:e.activeBreakoutRoomsManager)||void 0===t?void 0:t.active),mode:s}}),n.s.activeBreakoutRoomsManager={active:!(null===(i=n.s.activeBreakoutRoomsManager)||void 0===i?void 0:i.active),mode:s}},this.variant="button",this.meeting=void 0,this.states=void 0,this.size=void 0,this.iconPack=s.d,this.t=(0,a.u)()}render(){const e=this.meeting.self.permissions.connectedMeetings;if((e.canAlterConnectedMeetings||this.meeting.connectedMeetings.isActive)&&(e.canSwitchConnectedMeetings||e.canSwitchToParentMeeting)&&(0,r.i)(this.meeting))return(0,o.h)(o.H,{title:this.t("breakout_rooms")},(0,o.h)("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,t:this.t,onClick:this.breakoutRoomToggle,class:{active:this.states.activeBreakoutRooms},icon:this.iconPack.breakout_rooms,label:this.t("breakout_rooms"),variant:this.variant}))}};l.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);display:block}"},40579:(e,t,i)=>{i.d(t,{F:()=>s,i:()=>a,u:()=>n});var o=i(60614);const s={PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE:"play_participant_tile_video_on_pause",DISABLE_EMOJI_PICKER:"disable_emoji_picker",FEAT_PAGINATED_CHAT:"feat_paginated_chat",LOG_PLAYING_FAILURES:"log_playing_failures"},a=e=>e.connectedMeetings.supportsConnectedMeetings,n=e=>{var t;return(0,o.s)(e)||(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.features.hasFeature("feat_paginated_chat"))}},60614:(e,t,i)=>{i.d(t,{P:()=>n,a:()=>s,b:()=>c,c:()=>d,d:()=>r,e:()=>l,i:()=>o,s:()=>a});const o=e=>!!a(e)&&("LIVESTREAM"===e.meta.viewType&&"ON_STAGE"!==e.stage.status),s=e=>{var t;return!!a(e)&&("LIVESTREAM"===e.meta.viewType&&(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.canLivestream))},a=e=>{var t;return(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.isV2)&&(null==e?void 0:e.livestream)};var n,r;!function(e){e.BUFFERING="Buffering",e.ENDED="Ended",e.IDLE="Idle",e.PLAYING="Playing",e.READY="Ready"}(n||(n={})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.STATE_CHANGED="PlayerStateChanged",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.AD_CUE="PlayerAdCue",e.STREAM_SOURCE_CUE="PlayerStreamSourceCue",e.NETWORK_UNAVAILABLE="PlayerNetworkUnavailable",e.SEGMENT_DISCONTINUITY="PlayerSegmentDiscontinuity",e.SEGMENT_METADATA="PlayerSegmentMetadata",e.PLAYER_METADATA="PlayerMetadata"}(r||(r={}));const l=[r.TIME_UPDATE,r.BUFFER_UPDATE,r.TEXT_METADATA_CUE,r.PLAYER_METADATA],d=e=>{var t,i,o,s,n,r;return!!a(e)&&("ALLOWED"===(null===(i=null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i?void 0:i.canProduceAudio)||"ALLOWED"===(null===(s=null===(o=null==e?void 0:e.self)||void 0===o?void 0:o.permissions)||void 0===s?void 0:s.canProduceScreenshare)||"ALLOWED"===(null===(r=null===(n=null==e?void 0:e.self)||void 0===n?void 0:n.permissions)||void 0===r?void 0:r.canProduceVideo))},c=e=>{var t,i,o,s,n,r,l,d;return!!a(e)&&("NOT_ALLOWED"!==(null===(i=null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i?void 0:i.canProduceAudio)||"NOT_ALLOWED"!==(null===(s=null===(o=null==e?void 0:e.self)||void 0===o?void 0:o.permissions)||void 0===s?void 0:s.canProduceScreenshare)||"NOT_ALLOWED"!==(null===(r=null===(n=null==e?void 0:e.self)||void 0===n?void 0:n.permissions)||void 0===r?void 0:r.canProduceVideo)||(null===(d=null===(l=null==e?void 0:e.self)||void 0===l?void 0:l.permissions)||void 0===d?void 0:d.canLivestream))}},86466:(e,t,i)=>{i.d(t,{o:()=>d,s:()=>l});var o=i(67503);const s=e=>!("isConnected"in e)||e.isConnected,a=((e,t)=>{let i;return(...o)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,e(...o)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(s))}),2e3),n=e=>"function"==typeof e?e():e,r=(e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},{state:l,onChange:d}=((e,t)=>{const i=((e,t=((e,t)=>e!==t))=>{const i=n(e);let o=new Map(Object.entries(null!=i?i:{}));const s={dispose:[],get:[],set:[],reset:[]},a=()=>{var t;o=new Map(Object.entries(null!==(t=n(e))&&void 0!==t?t:{})),s.reset.forEach((e=>e()))},l=e=>(s.get.forEach((t=>t(e))),o.get(e)),d=(e,i)=>{const a=o.get(e);t(i,a,e)&&(o.set(e,i),s.set.forEach((t=>t(e,i,a))))},c="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>l(t),ownKeys:e=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>o.has(t),set:(e,t,i)=>(d(t,i),!0)}),u=(e,t)=>(s[e].push(t),()=>{r(s[e],t)});return{state:c,get:l,set:d,on:u,onChange:(t,i)=>{const o=u("set",((e,o)=>{e===t&&i(o)})),s=u("reset",(()=>i(n(e)[t])));return()=>{o(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{s.dispose.forEach((e=>e())),a()},reset:a,forceUpdate:e=>{const t=o.get(e);s.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{if("function"!=typeof o.a)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=(0,o.a)();i&&((e,t,i)=>{const o=e.get(t);o?o.includes(i)||o.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(o.f)),a(e)},reset:()=>{e.forEach((e=>e.forEach(o.f))),a(e)}}})()),i})({})}}]);