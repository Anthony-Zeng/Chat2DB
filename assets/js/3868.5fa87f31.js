"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[3868,9168],{79168:(t,i,s)=>{s.r(i),s.d(i,{dyte_simple_grid:()=>p});var e=s(67503),n=s(36881),o=s(51922),h=s(88581),c=s(24228),a=s(26449),r=s(36677);const p=class{constructor(t){(0,e.r)(this,t),this.setHostDimensions=()=>{const{clientWidth:t,clientHeight:i}=this.host;this.dimensions={width:t,height:i}},this.participants=[],this.aspectRatio="16:9",this.gap=8,this.size=void 0,this.meeting=void 0,this.states=void 0,this.config=n.d,this.iconPack=o.d,this.t=(0,h.u)(),this.dimensions={width:0,height:0}}connectedCallback(){this.resizeObserver=new r.i(this.setHostDimensions),this.resizeObserver.observe(this.host)}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}render(){const t={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},{width:i,height:s,getPosition:n}=(0,a.u)({dimensions:this.dimensions,count:this.participants.length,aspectRatio:this.aspectRatio,gap:this.gap});return(0,e.h)(e.H,null,this.participants.map(((o,h)=>{const{top:a,left:r}=n(h);return(0,e.h)(c.R,{element:"dyte-participant-tile",defaults:t,props:{participant:o,style:{position:"absolute",top:`${a}px`,left:`${r}px`,width:`${i}px`,height:`${s}px`},key:o.id,"data-participant":o.id},childProps:{participant:o},deepProps:!0})})),(0,e.h)("slot",null))}get host(){return(0,e.g)(this)}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);position:relative;display:block;height:100%;width:100%}"},26449:(t,i,s)=>{function e({dimensions:t,count:i,aspectRatio:s,gap:e}){const{width:o,height:h,rows:c,cols:a}=function({count:t,dimensions:i,aspectRatio:s,gap:e}){let{width:o,height:h}=i;if(0===o||0===h)return{width:0,height:0,rows:1,cols:1};o-=2*e,h-=2*e;const c=e,a=t,r=n(s);let p=0,d=0,l=1,g=1;const u=[];for(let n=1;n<=a;n++)u.push((o-c*(n-1))/n),u.push((h-c*(n-1))/(n*r));u.sort(((t,i)=>i-t));for(const n of u)if(p=n,d=p*r,l=Math.floor((o+c)/(p+c)),g=Math.floor((h+c)/(d+c)),l*g>=a){g=Math.ceil(a/l);break}return{width:p,height:d,rows:g,cols:l}}({dimensions:t,count:i,aspectRatio:s,gap:e}),r=function({parentDimensions:t,dimensions:i,rows:s,cols:e,count:n,gap:o}){const{width:h,height:c}=t,{width:a,height:r}=i,p=(c-(r*s+(s-1)*o))/2;let d=(h-(a*e+(e-1)*o))/2;const l=r+o,g=a+o;let u=0,m=0;const f=n%e;function w(t){const i=n-t;i===f&&(d=(h-(a*i+(i-1)*o))/2);const s=p+m*l,c=d+u*g;return u++,(t+1)%e==0&&(m++,u=0),{top:s,left:c}}return w}({parentDimensions:t,dimensions:{width:o,height:h},rows:c,cols:a,count:i,gap:e});return{width:o,height:h,getPosition:r}}s.d(i,{d:()=>o,u:()=>e});const n=t=>{const[i,s]=t.split(":");return Number.parseInt(s)/Number.parseInt(i)},o={spotlight:"sm",mixed:"sm"}}}]);